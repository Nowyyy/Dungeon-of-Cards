\hypertarget{personnage_8c}{}\section{Référence du fichier personnage.\+c}
\label{personnage_8c}\index{personnage.\+c@{personnage.\+c}}


Gère toute la partie concernant le personnage.  


{\ttfamily \#include \char`\"{}../include/constantes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/initialisation\+\_\+sdl\+\_\+fonctions.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/clavier.\+h\char`\"{}}\newline
Graphe des dépendances par inclusion de personnage.\+c\+:
% FIG 0
\subsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}{charge\+\_\+sprites\+\_\+personnage} (\hyperlink{structimage__t}{image\+\_\+t} sprites\mbox{[}$\,$\mbox{]}, S\+D\+L\+\_\+\+Renderer $\ast$rendu)
\begin{DoxyCompactList}\small\item\em fonction qui charge tous les sprites du personnage \end{DoxyCompactList}\item 
\mbox{\Hypertarget{personnage_8c_a7810851e6ff249e859fcdff824db890a}\label{personnage_8c_a7810851e6ff249e859fcdff824db890a}} 
int {\bfseries test\+\_\+collision} (\hyperlink{structsalle__t}{salle\+\_\+t} salle, \hyperlink{structperso__t}{perso\+\_\+t} $\ast$pers, int direction)
\item 
void \hyperlink{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}{init\+\_\+animations} (\hyperlink{structanimation__t}{animation\+\_\+t} $\ast$anim)
\begin{DoxyCompactList}\small\item\em Initialise la structure d\textquotesingle{}animations. \end{DoxyCompactList}\item 
void \hyperlink{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}{change\+\_\+animation} (\hyperlink{structanimation__t}{animation\+\_\+t} $\ast$anim, \hyperlink{structimage__t}{image\+\_\+t} sprites\mbox{[}$\,$\mbox{]}, int nouvelle\+\_\+animation)
\begin{DoxyCompactList}\small\item\em permet de changer d\textquotesingle{}animation selon la nouvelle passée en paramètre \end{DoxyCompactList}\item 
void \hyperlink{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}{animations\+\_\+personnage} (\hyperlink{structimage__t}{image\+\_\+t} sprites\mbox{[}$\,$\mbox{]}, unsigned int timer, \hyperlink{structtouches__t}{touches\+\_\+t} clavier, \hyperlink{structanimation__t}{animation\+\_\+t} $\ast$anim, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]})
\begin{DoxyCompactList}\small\item\em permet de changer d\textquotesingle{}animation selon le déplacement du personnage \end{DoxyCompactList}\item 
\mbox{\Hypertarget{personnage_8c_aa0d698c962de5255ed82483e658803e5}\label{personnage_8c_aa0d698c962de5255ed82483e658803e5}} 
void {\bfseries deplacement\+\_\+personnage} (\hyperlink{structperso__t}{perso\+\_\+t} $\ast$pers, \hyperlink{structsalle__t}{salle\+\_\+t} salle, int $\ast$continuer, \hyperlink{structanimation__t}{animation\+\_\+t} $\ast$anim, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]}, \hyperlink{structtouches__t}{touches\+\_\+t} $\ast$clavier, int $\ast$etat)
\item 
\mbox{\Hypertarget{personnage_8c_a590a184cfe02d579d87f361d0eb9bcbe}\label{personnage_8c_a590a184cfe02d579d87f361d0eb9bcbe}} 
int {\bfseries changement\+\_\+de\+\_\+salle} (\hyperlink{structperso__t}{perso\+\_\+t} $\ast$pers, \hyperlink{structsalle__t}{salle\+\_\+t} salle, int indice, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]})
\item 
void \hyperlink{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}{initialise\+\_\+personnage} (\hyperlink{structperso__t}{perso\+\_\+t} $\ast$pers)
\begin{DoxyCompactList}\small\item\em initialise les valeurs de base pour le personnage \end{DoxyCompactList}\item 
int \hyperlink{personnage_8c_af874d7b29f0019d0553016ecd5857a31}{collision\+\_\+perso\+\_\+ennemi} (\hyperlink{structperso__t}{perso\+\_\+t} pers, \hyperlink{structennemi__t}{ennemi\+\_\+t} ennemi)
\begin{DoxyCompactList}\small\item\em Vérifie la collision ou non entre un ennemi spécifique et le joueur. \end{DoxyCompactList}\item 
int \hyperlink{personnage_8c_a8e393b589a693ced3d433bd4065f561c}{combat\+\_\+declenche} (\hyperlink{structsalle__t}{salle\+\_\+t} salle, \hyperlink{structperso__t}{perso\+\_\+t} pers)
\begin{DoxyCompactList}\small\item\em Regarde si le personnage entre en combat avec un ennemi dans la salle. \end{DoxyCompactList}\item 
void \hyperlink{personnage_8c_ab3584be15c835e55b43713a17c82bb25}{creer\+\_\+texture\+\_\+depuis\+\_\+char} (\hyperlink{structimage__t}{image\+\_\+t} $\ast$texte\+\_\+pv, \hyperlink{structimage__t}{image\+\_\+t} $\ast$texte\+\_\+etage, \hyperlink{structperso__t}{perso\+\_\+t} perso, S\+D\+L\+\_\+\+Renderer $\ast$rendu, \hyperlink{structimage__t}{image\+\_\+t} $\ast$texte\+\_\+counter, int $\ast$compte\+\_\+ennemi, int $\ast$ennemi\+\_\+max)
\begin{DoxyCompactList}\small\item\em Crée des images à partir de texte issu des données du personnage, range ces images dans les structures correspondantes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Description détaillée}
Gère toute la partie concernant le personnage. 

\begin{DoxyAuthor}{Auteur}
\{Jourry Axel, Tudoret Aurélien, Marin Timothée, Malabry Thomas\} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
04/02/2020 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
0.\+1 
\end{DoxyVersion}


\subsection{Documentation des fonctions}
\mbox{\Hypertarget{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}\label{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}} 
\index{personnage.\+c@{personnage.\+c}!animations\+\_\+personnage@{animations\+\_\+personnage}}
\index{animations\+\_\+personnage@{animations\+\_\+personnage}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{animations\+\_\+personnage()}{animations\_personnage()}}
{\footnotesize\ttfamily void animations\+\_\+personnage (\begin{DoxyParamCaption}\item[{\hyperlink{structimage__t}{image\+\_\+t}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{unsigned int}]{timer,  }\item[{\hyperlink{structtouches__t}{touches\+\_\+t}}]{clavier,  }\item[{\hyperlink{structanimation__t}{animation\+\_\+t} $\ast$}]{anim,  }\item[{Mix\+\_\+\+Chunk $\ast$}]{sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]} }\end{DoxyParamCaption})}



permet de changer d\textquotesingle{}animation selon le déplacement du personnage 


\begin{DoxyParams}{Paramètres}
{\em sprites\mbox{[}$\,$\mbox{]},le} & tableau de sprites du personnage \\
\hline
{\em timer,le} & temps d\textquotesingle{}execution du jeu \\
\hline
{\em clavier,la} & structure de touches du clavier \\
\hline
{\em $\ast$anim,la} & structure qui gère les animations \\
\hline
{\em $\ast$sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]},tableau} & contenant les sons \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}\label{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}} 
\index{personnage.\+c@{personnage.\+c}!change\+\_\+animation@{change\+\_\+animation}}
\index{change\+\_\+animation@{change\+\_\+animation}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{change\+\_\+animation()}{change\_animation()}}
{\footnotesize\ttfamily void change\+\_\+animation (\begin{DoxyParamCaption}\item[{\hyperlink{structanimation__t}{animation\+\_\+t} $\ast$}]{anim,  }\item[{\hyperlink{structimage__t}{image\+\_\+t}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{int}]{nouvelle\+\_\+animation }\end{DoxyParamCaption})}



permet de changer d\textquotesingle{}animation selon la nouvelle passée en paramètre 


\begin{DoxyParams}{Paramètres}
{\em sprites\mbox{[}$\,$\mbox{]},le} & tableau de sprites du personnage \\
\hline
{\em $\ast$anim,la} & structure qui gère les animations \\
\hline
{\em nouvelle\+\_\+animation,l\textquotesingle{}indice} & du tableau ou se trouve la nouvelle animation a utiliser \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}\label{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}} 
\index{personnage.\+c@{personnage.\+c}!charge\+\_\+sprites\+\_\+personnage@{charge\+\_\+sprites\+\_\+personnage}}
\index{charge\+\_\+sprites\+\_\+personnage@{charge\+\_\+sprites\+\_\+personnage}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{charge\+\_\+sprites\+\_\+personnage()}{charge\_sprites\_personnage()}}
{\footnotesize\ttfamily void charge\+\_\+sprites\+\_\+personnage (\begin{DoxyParamCaption}\item[{\hyperlink{structimage__t}{image\+\_\+t}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{rendu }\end{DoxyParamCaption})}



fonction qui charge tous les sprites du personnage 


\begin{DoxyParams}{Paramètres}
{\em sprites\mbox{[}$\,$\mbox{]},tableau} & qui contiendra tous les sprites du personnage \\
\hline
{\em $\ast$rendu,le} & rendu sur lequel on dessinera le personnage \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_af874d7b29f0019d0553016ecd5857a31}\label{personnage_8c_af874d7b29f0019d0553016ecd5857a31}} 
\index{personnage.\+c@{personnage.\+c}!collision\+\_\+perso\+\_\+ennemi@{collision\+\_\+perso\+\_\+ennemi}}
\index{collision\+\_\+perso\+\_\+ennemi@{collision\+\_\+perso\+\_\+ennemi}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{collision\+\_\+perso\+\_\+ennemi()}{collision\_perso\_ennemi()}}
{\footnotesize\ttfamily int collision\+\_\+perso\+\_\+ennemi (\begin{DoxyParamCaption}\item[{\hyperlink{structperso__t}{perso\+\_\+t}}]{pers,  }\item[{\hyperlink{structennemi__t}{ennemi\+\_\+t}}]{ennemi }\end{DoxyParamCaption})}



Vérifie la collision ou non entre un ennemi spécifique et le joueur. 


\begin{DoxyParams}{Paramètres}
{\em pers,la} & structure du personnage \\
\hline
{\em ennemi,l\textquotesingle{}ennemi} & présent dans la salle\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
T\+R\+UE si une collision a lieu, F\+A\+L\+SE sinon 
\end{DoxyReturn}
\mbox{\Hypertarget{personnage_8c_a8e393b589a693ced3d433bd4065f561c}\label{personnage_8c_a8e393b589a693ced3d433bd4065f561c}} 
\index{personnage.\+c@{personnage.\+c}!combat\+\_\+declenche@{combat\+\_\+declenche}}
\index{combat\+\_\+declenche@{combat\+\_\+declenche}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{combat\+\_\+declenche()}{combat\_declenche()}}
{\footnotesize\ttfamily int combat\+\_\+declenche (\begin{DoxyParamCaption}\item[{\hyperlink{structsalle__t}{salle\+\_\+t}}]{salle,  }\item[{\hyperlink{structperso__t}{perso\+\_\+t}}]{pers }\end{DoxyParamCaption})}



Regarde si le personnage entre en combat avec un ennemi dans la salle. 


\begin{DoxyParams}{Paramètres}
{\em salle,la} & salle du labyrinthe dans laquelle on se situe \\
\hline
{\em pers,la} & structure du personnage\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
T\+R\+UE si une collision est detéctée avec un ennemi, F\+A\+L\+SE sinon 
\end{DoxyReturn}
\mbox{\Hypertarget{personnage_8c_ab3584be15c835e55b43713a17c82bb25}\label{personnage_8c_ab3584be15c835e55b43713a17c82bb25}} 
\index{personnage.\+c@{personnage.\+c}!creer\+\_\+texture\+\_\+depuis\+\_\+char@{creer\+\_\+texture\+\_\+depuis\+\_\+char}}
\index{creer\+\_\+texture\+\_\+depuis\+\_\+char@{creer\+\_\+texture\+\_\+depuis\+\_\+char}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{creer\+\_\+texture\+\_\+depuis\+\_\+char()}{creer\_texture\_depuis\_char()}}
{\footnotesize\ttfamily void creer\+\_\+texture\+\_\+depuis\+\_\+char (\begin{DoxyParamCaption}\item[{\hyperlink{structimage__t}{image\+\_\+t} $\ast$}]{texte\+\_\+pv,  }\item[{\hyperlink{structimage__t}{image\+\_\+t} $\ast$}]{texte\+\_\+etage,  }\item[{\hyperlink{structperso__t}{perso\+\_\+t}}]{perso,  }\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{rendu,  }\item[{\hyperlink{structimage__t}{image\+\_\+t} $\ast$}]{texte\+\_\+counter,  }\item[{int $\ast$}]{compte\+\_\+ennemi,  }\item[{int $\ast$}]{ennemi\+\_\+max }\end{DoxyParamCaption})}



Crée des images à partir de texte issu des données du personnage, range ces images dans les structures correspondantes. 


\begin{DoxyParams}{Paramètres}
{\em $\ast$texte\+\_\+pv,une} & structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em $\ast$texte\+\_\+etage,une} & structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em pers,le} & personnage à partir duquel on va récupérer des informations \\
\hline
{\em $\ast$rendu,le} & renderer sur lequel on dessine \\
\hline
{\em $\ast$texte\+\_\+counter,une} & structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em $\ast$ennemi\+\_\+max} & est le nombre d\textquotesingle{}ennemi max. \\
\hline
{\em $\ast$compte\+\_\+ennemi} & est un compteur des ennemis morts \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}\label{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}} 
\index{personnage.\+c@{personnage.\+c}!init\+\_\+animations@{init\+\_\+animations}}
\index{init\+\_\+animations@{init\+\_\+animations}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{init\+\_\+animations()}{init\_animations()}}
{\footnotesize\ttfamily void init\+\_\+animations (\begin{DoxyParamCaption}\item[{\hyperlink{structanimation__t}{animation\+\_\+t} $\ast$}]{anim }\end{DoxyParamCaption})}



Initialise la structure d\textquotesingle{}animations. 


\begin{DoxyParams}{Paramètres}
{\em $\ast$anim,la} & structure qui gère les animations \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}\label{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}} 
\index{personnage.\+c@{personnage.\+c}!initialise\+\_\+personnage@{initialise\+\_\+personnage}}
\index{initialise\+\_\+personnage@{initialise\+\_\+personnage}!personnage.\+c@{personnage.\+c}}
\subsubsection{\texorpdfstring{initialise\+\_\+personnage()}{initialise\_personnage()}}
{\footnotesize\ttfamily void initialise\+\_\+personnage (\begin{DoxyParamCaption}\item[{\hyperlink{structperso__t}{perso\+\_\+t} $\ast$}]{pers }\end{DoxyParamCaption})}



initialise les valeurs de base pour le personnage 


\begin{DoxyParams}{Paramètres}
{\em $\ast$pers,la} & structure du personnage \\
\hline
\end{DoxyParams}
