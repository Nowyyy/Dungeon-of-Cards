\hypertarget{personnage_8c}{}\doxysection{Référence du fichier personnage.\+c}
\label{personnage_8c}\index{personnage.c@{personnage.c}}


Gère toute la partie concernant le personnage.  


{\ttfamily \#include \char`\"{}../include/constantes.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/initialisation\+\_\+sdl\+\_\+fonctions.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/clavier.\+h\char`\"{}}\newline
Graphe des dépendances par inclusion de personnage.\+c\+:
% FIG 0
\doxysubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}{charge\+\_\+sprites\+\_\+personnage}} (\mbox{\hyperlink{structimage__t}{image\+\_\+t}} sprites\mbox{[}$\,$\mbox{]}, S\+D\+L\+\_\+\+Renderer $\ast$rendu)
\begin{DoxyCompactList}\small\item\em fonction qui charge tous les sprites du personnage \end{DoxyCompactList}\item 
int \mbox{\hyperlink{personnage_8c_a7810851e6ff249e859fcdff824db890a}{test\+\_\+collision}} (\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}} salle, \mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$pers, int direction)
\begin{DoxyCompactList}\small\item\em permet de regarder si le personnage entre en collision avec un des murs de la salle \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}{init\+\_\+animations}} (\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$anim)
\begin{DoxyCompactList}\small\item\em Initialise la structure d\textquotesingle{}animations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}{change\+\_\+animation}} (\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$anim, \mbox{\hyperlink{structimage__t}{image\+\_\+t}} sprites\mbox{[}$\,$\mbox{]}, int nouvelle\+\_\+animation)
\begin{DoxyCompactList}\small\item\em permet de changer d\textquotesingle{}animation selon la nouvelle passée en paramètre \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}{animations\+\_\+personnage}} (\mbox{\hyperlink{structimage__t}{image\+\_\+t}} sprites\mbox{[}$\,$\mbox{]}, unsigned int timer, \mbox{\hyperlink{structtouches__t}{touches\+\_\+t}} clavier, \mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$anim, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]})
\begin{DoxyCompactList}\small\item\em permet de changer d\textquotesingle{}animation selon le déplacement du personnage \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_aa0d698c962de5255ed82483e658803e5}{deplacement\+\_\+personnage}} (\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$pers, \mbox{\hyperlink{structsalle__t}{salle\+\_\+t}} salle, int $\ast$continuer, \mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$anim, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]}, \mbox{\hyperlink{structtouches__t}{touches\+\_\+t}} $\ast$clavier, int $\ast$etat)
\begin{DoxyCompactList}\small\item\em Gère les déplacement du personnage dans une salle. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{personnage_8c_a590a184cfe02d579d87f361d0eb9bcbe}{changement\+\_\+de\+\_\+salle}} (\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$pers, \mbox{\hyperlink{structsalle__t}{salle\+\_\+t}} salle, int indice, Mix\+\_\+\+Chunk $\ast$sounds\mbox{[}N\+B\+\_\+\+S\+ON\mbox{]})
\begin{DoxyCompactList}\small\item\em permet de téléporter le personnage dans la salle dont il passe la porter \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}{initialise\+\_\+personnage}} (\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$pers)
\begin{DoxyCompactList}\small\item\em initialise les valeurs de base pour le personnage \end{DoxyCompactList}\item 
int \mbox{\hyperlink{personnage_8c_af874d7b29f0019d0553016ecd5857a31}{collision\+\_\+perso\+\_\+ennemi}} (\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} pers, \mbox{\hyperlink{structennemi__t}{ennemi\+\_\+t}} ennemi)
\begin{DoxyCompactList}\small\item\em Vérifie la collision ou non entre un ennemi spécifique et le joueur. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{personnage_8c_a8e393b589a693ced3d433bd4065f561c}{combat\+\_\+declenche}} (\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}} salle, \mbox{\hyperlink{structperso__t}{perso\+\_\+t}} pers)
\begin{DoxyCompactList}\small\item\em Regarde si le personnage entre en combat avec un ennemi dans la salle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{personnage_8c_ab3584be15c835e55b43713a17c82bb25}{creer\+\_\+texture\+\_\+depuis\+\_\+char}} (\mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$texte\+\_\+pv, \mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$texte\+\_\+etage, \mbox{\hyperlink{structperso__t}{perso\+\_\+t}} perso, S\+D\+L\+\_\+\+Renderer $\ast$rendu, \mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$texte\+\_\+counter, int $\ast$compte\+\_\+ennemi, int $\ast$ennemi\+\_\+max)
\begin{DoxyCompactList}\small\item\em Crée des images à partir de texte issu des données du personnage, range ces images dans les structures correspondantes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Gère toute la partie concernant le personnage. 

\begin{DoxyAuthor}{Auteur}
Jourry Axel, Tudoret Aurélien, Marin Timothée, Malabry Thomas 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
13/05/2020 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\doxysubsection{Documentation des fonctions}
\mbox{\Hypertarget{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}\label{personnage_8c_a3e0d70e3254411a3ee66def8c3e7e3b0}} 
\index{personnage.c@{personnage.c}!animations\_personnage@{animations\_personnage}}
\index{animations\_personnage@{animations\_personnage}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{animations\_personnage()}{animations\_personnage()}}
{\footnotesize\ttfamily void animations\+\_\+personnage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{unsigned int}]{timer,  }\item[{\mbox{\hyperlink{structtouches__t}{touches\+\_\+t}}}]{clavier,  }\item[{\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$}]{anim,  }\item[{Mix\+\_\+\+Chunk $\ast$}]{sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]} }\end{DoxyParamCaption})}



permet de changer d\textquotesingle{}animation selon le déplacement du personnage 


\begin{DoxyParams}{Paramètres}
{\em sprites\mbox{[}$\,$\mbox{]}} & le tableau de sprites du personnage \\
\hline
{\em timer} & le temps d\textquotesingle{}execution du jeu \\
\hline
{\em clavier} & la structure de touches du clavier \\
\hline
{\em $\ast$anim} & la structure qui gère les animations \\
\hline
{\em $\ast$sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]}} & le tableau contenant les sons \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}\label{personnage_8c_aec71a35c8d05712c6c14e86bc93ba2a3}} 
\index{personnage.c@{personnage.c}!change\_animation@{change\_animation}}
\index{change\_animation@{change\_animation}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{change\_animation()}{change\_animation()}}
{\footnotesize\ttfamily void change\+\_\+animation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$}]{anim,  }\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{int}]{nouvelle\+\_\+animation }\end{DoxyParamCaption})}



permet de changer d\textquotesingle{}animation selon la nouvelle passée en paramètre 


\begin{DoxyParams}{Paramètres}
{\em $\ast$anim} & la structure qui gère les animations \\
\hline
{\em sprites\mbox{[}$\,$\mbox{]}} & le tableau de sprites du personnage \\
\hline
{\em nouvelle\+\_\+animation} & l\textquotesingle{}indice du tableau ou se trouve la nouvelle animation a utiliser \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_a590a184cfe02d579d87f361d0eb9bcbe}\label{personnage_8c_a590a184cfe02d579d87f361d0eb9bcbe}} 
\index{personnage.c@{personnage.c}!changement\_de\_salle@{changement\_de\_salle}}
\index{changement\_de\_salle@{changement\_de\_salle}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{changement\_de\_salle()}{changement\_de\_salle()}}
{\footnotesize\ttfamily int changement\+\_\+de\+\_\+salle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$}]{pers,  }\item[{\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}}}]{salle,  }\item[{int}]{indice,  }\item[{Mix\+\_\+\+Chunk $\ast$}]{sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]} }\end{DoxyParamCaption})}



permet de téléporter le personnage dans la salle dont il passe la porter 


\begin{DoxyParams}{Paramètres}
{\em $\ast$pers} & la structure du personnage \\
\hline
{\em salle} & la salle dans laquelle on se trouve \\
\hline
{\em indice} & l\textquotesingle{}indice de la salle dans laquelle le joueur se situe \\
\hline
{\em $\ast$sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]}} & le tableau contenant les sons\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
la salle dans laquelle le joueur arrive 
\end{DoxyReturn}
\mbox{\Hypertarget{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}\label{personnage_8c_a268829dc6c85b9473a074eb2f9c122d4}} 
\index{personnage.c@{personnage.c}!charge\_sprites\_personnage@{charge\_sprites\_personnage}}
\index{charge\_sprites\_personnage@{charge\_sprites\_personnage}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{charge\_sprites\_personnage()}{charge\_sprites\_personnage()}}
{\footnotesize\ttfamily void charge\+\_\+sprites\+\_\+personnage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}}}]{sprites\mbox{[}$\,$\mbox{]},  }\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{rendu }\end{DoxyParamCaption})}



fonction qui charge tous les sprites du personnage 


\begin{DoxyParams}{Paramètres}
{\em sprites\mbox{[}$\,$\mbox{]}} & le tableau qui contiendra tous les sprites du personnage \\
\hline
{\em $\ast$rendu} & le rendu sur lequel on dessinera le personnage \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_af874d7b29f0019d0553016ecd5857a31}\label{personnage_8c_af874d7b29f0019d0553016ecd5857a31}} 
\index{personnage.c@{personnage.c}!collision\_perso\_ennemi@{collision\_perso\_ennemi}}
\index{collision\_perso\_ennemi@{collision\_perso\_ennemi}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{collision\_perso\_ennemi()}{collision\_perso\_ennemi()}}
{\footnotesize\ttfamily int collision\+\_\+perso\+\_\+ennemi (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}}}]{pers,  }\item[{\mbox{\hyperlink{structennemi__t}{ennemi\+\_\+t}}}]{ennemi }\end{DoxyParamCaption})}



Vérifie la collision ou non entre un ennemi spécifique et le joueur. 


\begin{DoxyParams}{Paramètres}
{\em pers} & la structure du personnage \\
\hline
{\em ennemi} & l\textquotesingle{}ennemi présent dans la salle\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
T\+R\+UE si une collision a lieu, F\+A\+L\+SE sinon 
\end{DoxyReturn}
\mbox{\Hypertarget{personnage_8c_a8e393b589a693ced3d433bd4065f561c}\label{personnage_8c_a8e393b589a693ced3d433bd4065f561c}} 
\index{personnage.c@{personnage.c}!combat\_declenche@{combat\_declenche}}
\index{combat\_declenche@{combat\_declenche}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{combat\_declenche()}{combat\_declenche()}}
{\footnotesize\ttfamily int combat\+\_\+declenche (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}}}]{salle,  }\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}}}]{pers }\end{DoxyParamCaption})}



Regarde si le personnage entre en combat avec un ennemi dans la salle. 


\begin{DoxyParams}{Paramètres}
{\em salle} & la salle du labyrinthe dans laquelle on se situe \\
\hline
{\em pers} & la structure du personnage\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
T\+R\+UE si une collision est detéctée avec un ennemi, F\+A\+L\+SE sinon 
\end{DoxyReturn}
\mbox{\Hypertarget{personnage_8c_ab3584be15c835e55b43713a17c82bb25}\label{personnage_8c_ab3584be15c835e55b43713a17c82bb25}} 
\index{personnage.c@{personnage.c}!creer\_texture\_depuis\_char@{creer\_texture\_depuis\_char}}
\index{creer\_texture\_depuis\_char@{creer\_texture\_depuis\_char}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{creer\_texture\_depuis\_char()}{creer\_texture\_depuis\_char()}}
{\footnotesize\ttfamily void creer\+\_\+texture\+\_\+depuis\+\_\+char (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$}]{texte\+\_\+pv,  }\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$}]{texte\+\_\+etage,  }\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}}}]{perso,  }\item[{S\+D\+L\+\_\+\+Renderer $\ast$}]{rendu,  }\item[{\mbox{\hyperlink{structimage__t}{image\+\_\+t}} $\ast$}]{texte\+\_\+counter,  }\item[{int $\ast$}]{compte\+\_\+ennemi,  }\item[{int $\ast$}]{ennemi\+\_\+max }\end{DoxyParamCaption})}



Crée des images à partir de texte issu des données du personnage, range ces images dans les structures correspondantes. 


\begin{DoxyParams}{Paramètres}
{\em $\ast$texte\+\_\+pv} & une structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em $\ast$texte\+\_\+etage} & une structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em pers} & le personnage à partir duquel on va récupérer des informations \\
\hline
{\em $\ast$rendu} & le renderer sur lequel on dessine \\
\hline
{\em $\ast$texte\+\_\+counter} & une structure qui contiendra l\textquotesingle{}image du texte a afficher \\
\hline
{\em $\ast$compte\+\_\+ennemi} & un compteur des ennemis morts \\
\hline
{\em $\ast$ennemi\+\_\+max} & le nombre d\textquotesingle{}ennemi max. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_aa0d698c962de5255ed82483e658803e5}\label{personnage_8c_aa0d698c962de5255ed82483e658803e5}} 
\index{personnage.c@{personnage.c}!deplacement\_personnage@{deplacement\_personnage}}
\index{deplacement\_personnage@{deplacement\_personnage}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{deplacement\_personnage()}{deplacement\_personnage()}}
{\footnotesize\ttfamily void deplacement\+\_\+personnage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$}]{pers,  }\item[{\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}}}]{salle,  }\item[{int $\ast$}]{continuer,  }\item[{\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$}]{anim,  }\item[{Mix\+\_\+\+Chunk $\ast$}]{sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]},  }\item[{\mbox{\hyperlink{structtouches__t}{touches\+\_\+t}} $\ast$}]{clavier,  }\item[{int $\ast$}]{etat }\end{DoxyParamCaption})}



Gère les déplacement du personnage dans une salle. 


\begin{DoxyParams}{Paramètres}
{\em $\ast$pers} & la structure du pêrsonnage que l\textquotesingle{}on souhaite déplacer \\
\hline
{\em salle} & la salle dans laquelle le personnage se déplace \\
\hline
{\em $\ast$continuer} & le pointeur sur variable permettant de savoir si le joueur souhaite quitter le programme \\
\hline
{\em $\ast$anim} & la structure qui gère les animations \\
\hline
{\em $\ast$sounds\mbox{[}\+N\+B\+\_\+\+S\+O\+N\mbox{]}} & le tableau contenant les sons \\
\hline
{\em clavier} & la structure de touches du clavier \\
\hline
{\em $\ast$etat} & défini l\textquotesingle{}état dans lequel le jeu se trouve -\/$>$menu, labyrinthe, chargement \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}\label{personnage_8c_ab8bc861d999d116d1d6b93be954a9c7e}} 
\index{personnage.c@{personnage.c}!init\_animations@{init\_animations}}
\index{init\_animations@{init\_animations}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{init\_animations()}{init\_animations()}}
{\footnotesize\ttfamily void init\+\_\+animations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structanimation__t}{animation\+\_\+t}} $\ast$}]{anim }\end{DoxyParamCaption})}



Initialise la structure d\textquotesingle{}animations. 


\begin{DoxyParams}{Paramètres}
{\em $\ast$anim} & la structure qui gère les animations \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}\label{personnage_8c_aac7caf413c5c0bcee056174d8ee983d2}} 
\index{personnage.c@{personnage.c}!initialise\_personnage@{initialise\_personnage}}
\index{initialise\_personnage@{initialise\_personnage}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{initialise\_personnage()}{initialise\_personnage()}}
{\footnotesize\ttfamily void initialise\+\_\+personnage (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$}]{pers }\end{DoxyParamCaption})}



initialise les valeurs de base pour le personnage 


\begin{DoxyParams}{Paramètres}
{\em $\ast$pers} & la structure du personnage \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{personnage_8c_a7810851e6ff249e859fcdff824db890a}\label{personnage_8c_a7810851e6ff249e859fcdff824db890a}} 
\index{personnage.c@{personnage.c}!test\_collision@{test\_collision}}
\index{test\_collision@{test\_collision}!personnage.c@{personnage.c}}
\doxysubsubsection{\texorpdfstring{test\_collision()}{test\_collision()}}
{\footnotesize\ttfamily int test\+\_\+collision (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsalle__t}{salle\+\_\+t}}}]{salle,  }\item[{\mbox{\hyperlink{structperso__t}{perso\+\_\+t}} $\ast$}]{pers,  }\item[{int}]{direction }\end{DoxyParamCaption})}



permet de regarder si le personnage entre en collision avec un des murs de la salle 


\begin{DoxyParams}{Paramètres}
{\em salle} & la salle pour laquelle on test les collisions \\
\hline
{\em $\ast$pers} & le personnage pour lequel on test les collisions \\
\hline
{\em direction} & la direction dans laquelle se rend le personnage\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
1 en cas de collision, 0 si aucune collision 
\end{DoxyReturn}
